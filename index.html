<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Henry's Law Quiz</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary: #4a6bff;
      --correct: #28a745;
      --wrong: #dc3545;
      --unattempted: #ffc107;
      --answered: #17a2b8;
    }
    
    body {
      font-family: 'Poppins', sans-serif;
      background: #f8f9fa;
      margin: 0;
      padding: 0;
      color: #333;
    }
    
    .container {
      max-width: 800px;
      margin: 30px auto;
      padding: 30px;
      background: white;
      border-radius: 15px;
      box-shadow: 0 5px 25px rgba(0, 0, 0, 0.1);
    }
    
    #welcome-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: var(--primary);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 1000;
      color: white;
      font-size: 3rem;
      font-weight: 700;
      animation: fadeOut 5s forwards;
    }
    
    @keyframes fadeOut {
      0% { opacity: 1; }
      80% { opacity: 1; }
      100% { opacity: 0; visibility: hidden; }
    }
    
    #welcome-screen h1 {
      margin: 0;
      font-size: 4rem;
      text-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
    }
    
    #welcome-screen p {
      font-size: 2rem;
      margin-top: 20px;
      text-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
    }
    
    #intro-screen {
      text-align: center;
      padding: 20px;
    }
    
    .title {
      font-size: 2.5rem;
      font-weight: 700;
      color: var(--primary);
      margin-bottom: 10px;
      background: linear-gradient(90deg, #4a6bff, #8a2be2);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    
    .test-details {
      background: #f1f5ff;
      padding: 20px;
      border-radius: 10px;
      margin: 25px 0;
      text-align: left;
    }
    
    .test-details p {
      margin: 8px 0;
      font-size: 1.1rem;
    }
    
    .test-details strong {
      color: var(--primary);
    }
    
    .btn {
      padding: 12px 30px;
      border: none;
      border-radius: 50px;
      background: var(--primary);
      color: white;
      font-size: 1.1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
      box-shadow: 0 4px 10px rgba(74, 107, 255, 0.3);
    }
    
    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 15px rgba(74, 107, 255, 0.4);
    }
    
    .btn:active {
      transform: translateY(0);
    }
    
    .timer {
      background: #fff4e6;
      padding: 15px;
      border-radius: 10px;
      font-size: 1.2rem;
      font-weight: 600;
      color: #e67e22;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .timer i {
      margin-right: 10px;
    }
    
    #quiz-box {
      display: none;
    }
    
    .question-text {
      font-size: 1.3rem;
      font-weight: 600;
      margin-bottom: 20px;
      line-height: 1.5;
    }
    
    .option {
      display: block;
      margin-bottom: 12px;
      padding: 15px;
      background: #f8f9fa;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.2s;
      border: 2px solid transparent;
    }
    
    .option:hover {
      background: #e9ecef;
    }
    
    .option.selected {
      background: #d1e7fd;
      border-color: var(--primary);
    }
    
    .explanation {
      margin-top: 20px;
      padding: 15px;
      background: #e7f5ff;
      border-radius: 8px;
      border-left: 4px solid var(--primary);
      display: none;
    }
    
    #summary {
      display: none;
      text-align: center;
      padding: 20px;
      background: #f8f9fa;
      border-radius: 10px;
      margin-top: 30px;
    }
    
    .result-card {
      background: white;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      max-width: 500px;
      margin: 0 auto;
    }
    
    .result-title {
      font-size: 1.8rem;
      color: var(--primary);
      margin-bottom: 20px;
    }
    
    .result-stats {
      display: flex;
      justify-content: space-around;
      margin: 25px 0;
    }
    
    .stat {
      text-align: center;
    }
    
    .stat-value {
      font-size: 2rem;
      font-weight: 700;
    }
    
    .stat-correct .stat-value {
      color: var(--correct);
    }
    
    .stat-wrong .stat-value {
      color: var(--wrong);
    }
    
    .stat-unattempted .stat-value {
      color: var(--unattempted);
    }
    
    .review-controls {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin-top: 30px;
      flex-wrap: wrap;
    }
    
    .question-nav-container {
      margin-top: 20px;
      text-align: center;
    }
    
    .toggle-nav-btn {
      padding: 8px 15px;
      border-radius: 20px;
      background: #6c757d;
      color: white;
      border: none;
      cursor: pointer;
      margin-bottom: 10px;
    }
    
    .question-nav {
      display: none;
      flex-wrap: wrap;
      gap: 8px;
      justify-content: center;
    }
    
    .question-nav.active {
      display: flex;
    }
    
    .q-nav-btn {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .q-nav-btn.unattempted {
      background: var(--unattempted);
      color: #333;
    }
    
    .q-nav-btn.answered {
      background: var(--answered);
      color: white;
    }
    
    .q-nav-btn.correct {
      background: var(--correct);
      color: white;
    }
    
    .q-nav-btn.incorrect {
      background: var(--wrong);
      color: white;
    }
    
    .controls {
      display: flex;
      justify-content: space-between;
      margin-top: 30px;
      flex-wrap: wrap;
    }
    
    .nav-buttons {
      display: flex;
      gap: 10px;
    }
    
    .nav-btn {
      padding: 10px 20px;
      border-radius: 8px;
      font-weight: 600;
    }
    
    @media (max-width: 600px) {
      .container {
        padding: 20px;
        margin: 10px;
      }
      
      #welcome-screen h1 {
        font-size: 3rem;
      }
      
      #welcome-screen p {
        font-size: 1.5rem;
      }
      
      .title {
        font-size: 2rem;
      }
      
      .controls {
        flex-direction: column;
        gap: 10px;
      }
      
      .nav-buttons {
        justify-content: space-between;
        width: 100%;
      }
      
      .q-nav-btn {
        width: 35px;
        height: 35px;
        font-size: 0.9rem;
      }
      
      .review-controls {
        flex-direction: column;
        align-items: center;
      }
    }
  </style>
</head>
<body>
  <div id="welcome-screen">
    <h1>All the Best</h1>
    <p>Sana!</p>
  </div>

  <div class="container">
    <div id="intro-screen">
      <div class="title">Aakash Sab Kar Lega</div>
      <div class="test-details">
        <p><strong>Subject:</strong> Henry's Law & Solubility</p>
        <p><strong>Topics:</strong> Henry's Law, Gas Solubility, Constants, Deviations</p>
        <p><strong>Total Questions:</strong> 3</p>
        <p><strong>Time Limit:</strong> 5 minutes</p>
        <p><strong>Test Type:</strong> Practice Quiz</p>
      </div>
      <button class="btn" onclick="startQuiz()">Start Test</button>
    </div>

    <div class="timer" style="display: none;">
      <i>⏱️</i> <span id="timer">05:00</span>
    </div>

    <div id="quiz-box">
      <div class="question-text" id="question-text"></div>
      <div id="options"></div>
      <div class="explanation" id="explanation"></div>
      
      <div class="controls">
        <div class="nav-buttons">
          <button class="nav-btn" onclick="prevQuestion()">Previous</button>
          <button class="nav-btn" onclick="nextQuestion()">Next</button>
        </div>
        <button class="btn" onclick="confirmSubmit()">End Test</button>
      </div>
      
      <div class="question-nav-container">
        <button class="toggle-nav-btn" onclick="toggleQuestionNav()">Jump to Question</button>
        <div class="question-nav" id="question-nav"></div>
      </div>
    </div>

    <div id="summary">
      <div class="result-card">
        <div class="result-title">Your Test Results</div>
        <div class="result-stats">
          <div class="stat stat-correct">
            <div class="stat-value" id="correct-count">0</div>
            <div>Correct</div>
          </div>
          <div class="stat stat-wrong">
            <div class="stat-value" id="wrong-count">0</div>
            <div>Wrong</div>
          </div>
          <div class="stat stat-unattempted">
            <div class="stat-value" id="unattempted-count">0</div>
            <div>Unattempted</div>
          </div>
        </div>
        
        <div class="review-controls">
          <button class="btn" onclick="reviewTest()">Review Responses</button>
          <button class="btn" style="background: #6c757d;" onclick="location.reload()">New Test</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    const quiz = [
      {
        question: "Which gas is most soluble in blood?",
        options: ["O₂", "CO₂", "N₂", "He"],
        answer: 1,
        explanation: "(b) CO₂ (Forms H₂CO₃ in blood, critical for respiration)"
      },
      {
        question: "Henry's law constant (Kₕ) for O₂ is 1.3 × 10⁻³ mol/L-atm. Solubility at 0.8 atm is:",
        options: ["1.04 × 10⁻³ M", "2.6 × 10⁴ M", "5.2 × 10⁴ M", "3.1 × 10⁻³ M"],
        answer: 0,
        explanation: "(a) 1.04 × 10⁻³ M (C = Kₕ × P = 1.3 × 10⁻³ × 0.8)"
      },
      {
        question: "Which gas shows negative deviation from Henry's law?",
        options: ["N₂", "O₂", "CO₂", "He"],
        answer: 2,
        explanation: "(c) CO₂ (Reacts with solvent, increasing solubility beyond Henry's prediction)"
      }
    ];

    let currentQuestion = 0;
    let userResponses = Array(quiz.length).fill(null);
    let testSubmitted = false;
    let testStarted = false;
    let timeLeft = 5 * 60; // 5 minutes in seconds
    let timerInterval;

    // Hide welcome screen after 5 seconds
    setTimeout(() => {
      document.getElementById('welcome-screen').style.display = 'none';
    }, 5000);

    function startQuiz() {
      document.getElementById("intro-screen").style.display = "none";
      document.querySelector(".timer").style.display = "flex";
      document.getElementById("quiz-box").style.display = "block";
      startTimer();
      renderQuestion();
      renderQuestionNav();
      testStarted = true;
    }

    function startTimer() {
      const timerDisplay = document.getElementById("timer");
      updateTimerDisplay(timerDisplay);
      
      timerInterval = setInterval(() => {
        timeLeft--;
        updateTimerDisplay(timerDisplay);
        
        if (timeLeft <= 0) {
          clearInterval(timerInterval);
          submitTest();
        }
      }, 1000);
    }

    function updateTimerDisplay(timerDisplay) {
      const minutes = Math.floor(timeLeft / 60);
      const seconds = timeLeft % 60;
      timerDisplay.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
      
      if (timeLeft <= 30) {
        timerDisplay.parentElement.style.background = "#ffdddd";
        timerDisplay.parentElement.style.color = "#dc3545";
      }
    }

    function renderQuestion() {
      const question = quiz[currentQuestion];
      document.getElementById("question-text").textContent = `${currentQuestion + 1}. ${question.question}`;
      
      const optionsContainer = document.getElementById("options");
      optionsContainer.innerHTML = "";
      
      question.options.forEach((option, index) => {
        const optionElement = document.createElement("div");
        optionElement.className = "option";
        optionElement.textContent = option;
        
        if (userResponses[currentQuestion] === index) {
          optionElement.classList.add("selected");
        }
        
        optionElement.onclick = () => {
          if (!testSubmitted) selectOption(index);
        };
        optionsContainer.appendChild(optionElement);
      });
      
      const explanationEl = document.getElementById("explanation");
      explanationEl.style.display = "none";
      explanationEl.textContent = "";
    }

    function selectOption(optionIndex) {
      userResponses[currentQuestion] = optionIndex;
      renderQuestion();
      renderQuestionNav();
    }

    function renderQuestionNav() {
      const navContainer = document.getElementById("question-nav");
      navContainer.innerHTML = "";
      
      quiz.forEach((_, index) => {
        const navButton = document.createElement("div");
        navButton.className = "q-nav-btn";
        navButton.textContent = index + 1;
        
        if (testSubmitted) {
          if (userResponses[index] === quiz[index].answer) {
            navButton.classList.add("correct");
          } else if (userResponses[index] !== null) {
            navButton.classList.add("incorrect");
          } else {
            navButton.classList.add("unattempted");
          }
        } else {
          navButton.classList.add(userResponses[index] === null ? "unattempted" : "answered");
        }
        
        navButton.onclick = () => {
          currentQuestion = index;
          renderQuestion();
        };
        navContainer.appendChild(navButton);
      });
    }

    function toggleQuestionNav() {
      const nav = document.getElementById("question-nav");
      nav.classList.toggle("active");
    }

    function prevQuestion() {
      if (currentQuestion > 0) {
        currentQuestion--;
        renderQuestion();
      }
    }

    function nextQuestion() {
      if (currentQuestion < quiz.length - 1) {
        currentQuestion++;
        renderQuestion();
      }
    }

    function confirmSubmit() {
      if (confirm("Are you sure you want to end the test?")) {
        submitTest();
      }
    }

    function submitTest() {
      clearInterval(timerInterval);
      testSubmitted = true;
      
      let correct = 0, wrong = 0, unattempted = 0;
      
      quiz.forEach((question, index) => {
        if (userResponses[index] === null) {
          unattempted++;
        } else if (userResponses[index] === question.answer) {
          correct++;
        } else {
          wrong++;
        }
      });
      
      document.getElementById("quiz-box").style.display = "none";
      document.querySelector(".timer").style.display = "none";
      document.getElementById("correct-count").textContent = correct;
      document.getElementById("wrong-count").textContent = wrong;
      document.getElementById("unattempted-count").textContent = unattempted;
      document.getElementById("summary").style.display = "block";
    }

    function reviewTest() {
      currentQuestion = 0;
      document.getElementById("summary").style.display = "none";
      document.getElementById("quiz-box").style.display = "block";
      
      // Update options to show correct/incorrect in review mode
      const question = quiz[currentQuestion];
      const optionsContainer = document.getElementById("options");
      optionsContainer.innerHTML = "";
      
      question.options.forEach((option, index) => {
        const optionElement = document.createElement("div");
        optionElement.className = "option";
        optionElement.textContent = option;
        
        if (index === question.answer) {
          optionElement.classList.add("correct");
        } else if (userResponses[currentQuestion] === index && userResponses[currentQuestion] !== question.answer) {
          optionElement.classList.add("incorrect");
        }
        
        optionsContainer.appendChild(optionElement);
      });
      
      document.getElementById("explanation").style.display = "block";
      document.getElementById("explanation").textContent = question.explanation;
      
      renderQuestionNav();
    }
  </script>
</body>
</html>
